(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){},142:function(e,t,a){},172:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(13),r=a.n(l),c=a(89),i=a(22),s=a(194),m=(a(98),function(){return o.a.createElement(s.a,{className:"header"},o.a.createElement("h1",null,"Welcome to Snowhub!"))}),d=a(4),u=(a(141),function(){return o.a.createElement("div",null,o.a.createElement(d.g,{color:"blue",className:"font-small pt-4 mt-4"},o.a.createElement(d.f,{fluid:!0,className:"text-center text-md-left"},o.a.createElement(d.o,null,o.a.createElement(d.e,{md:"12"},o.a.createElement("h5",{className:"About"},"About"),o.a.createElement("p",{className:"paragraphs"},"SnowHub is a platform connecting snow lovers with instructors to review and comment on their ski/snowboard videos via Youtube."),o.a.createElement("p",{className:"paragraphs"},"SnowHub only has read-only access to users' YouTube videos and only stores the public video IDs for service purpose."),o.a.createElement("p",{className:"paragraphs"},"Please refer to the",o.a.createElement("a",{href:"https://www.termsfeed.com/terms-service/e3d176f3e832ea8775d01253dd290773",target:"_blank",rel:"noopener noreferrer"}," Terms of Service "),"and",o.a.createElement("a",{href:"https://www.termsfeed.com/privacy-policy/a398f94bb6129a8c09f6eeb9623361fc",target:"_blank",rel:"noopener noreferrer"}," Privacy Policies "),"for further details. Please",o.a.createElement("a",{href:"mailto: henry.heyi513@gmail.com"}," Contact Us ")," with any questions.")))),o.a.createElement("div",{className:"footer-copyright text-center py-3"},o.a.createElement(d.f,{fluid:!0},"\xa9 ",(new Date).getFullYear()," Copyright: ",o.a.createElement("a",{href:"https://www.snowhub.org",rel:"noopener noreferrer"}," SnowHub.org ")))))}),h=a(26),g=a(27),f=a(31),p=a(28),E=a(32),y=a(195),v=a(196),b=a(197),w=a(54),S=a(33),k=(a(142),a(43)),I=a(17),C=a.n(I),V=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={modal14:!1,savedVideos:[],fetchedVideos:[]},a.toggle=function(e){return function(){var t="modal"+e;a.setState(Object(S.a)({},t,!a.state[t]))}},a.loadVideos=function(){C.a.get("/api/getVideo/"+a.props.googleid).then(function(e){return a.setState({savedVideos:e.data})}).catch(function(e){return console.log(e)})},a.getYoutubeVideo=function(){C.a.get("/api/youtube").then(function(e){a.setState({modal14:!0,fetchedVideos:e.data})}).catch(function(e){console.log(e)})},a.addVideo=function(e){C.a.post("/api/video",{videoId:e,userGoogleId:a.props.googleid}).then(function(e){a.setState({modal14:!1}),a.loadVideos()}).catch(function(e){console.log(e)})},a.deleteVideo=function(e){C.a.delete("/api/video/"+e).then(function(e){a.loadVideos()}).catch(function(e){console.log(e)})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.loadVideos()},1e3)}},{key:"_onReady",value:function(e){e.target.pauseVideo()}},{key:"render",value:function(){var e=this,t={height:"340",width:"560",playerVars:{autoplay:0}};return o.a.createElement("div",this.props,o.a.createElement(d.f,null,o.a.createElement(d.a,{color:"primary",onClick:this.getYoutubeVideo},o.a.createElement("i",{className:"fa fa-upload"})),o.a.createElement(d.l,{isOpen:this.state.modal14,toggle:this.toggle(14),centered:!0},o.a.createElement(d.n,{toggle:this.toggle(14)},"Choose your videos"),o.a.createElement(d.m,{style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"}},0!==this.state.fetchedVideos.length&&o.a.createElement(d.j,null,this.state.fetchedVideos.map(function(t){return o.a.createElement(d.k,{key:t.id.videoId},o.a.createElement(d.o,null,o.a.createElement("h4",null,t.snippet.title)),o.a.createElement(d.o,null,o.a.createElement(d.e,null,o.a.createElement("img",{src:t.snippet.thumbnails.default.url,alt:""})),o.a.createElement(d.e,null,o.a.createElement(d.a,{variant:"info",type:"save",size:"sm",onClick:function(){return e.addVideo(t.id.videoId)}},"Add"))))})))),0!==this.state.savedVideos.length&&o.a.createElement(d.j,null,this.state.savedVideos.map(function(a){return o.a.createElement(d.k,{key:a._id},o.a.createElement(d.o,null,o.a.createElement(d.e,null,o.a.createElement(k.a,{videoId:a.videoId,opts:t,onReady:e._onReady})),o.a.createElement(d.e,null,o.a.createElement(d.o,null,o.a.createElement("h4",null,"Comments:")),o.a.createElement(d.o,null,a.commentStatus?o.a.createElement("p",null,a.commentSummary):o.a.createElement("p",null,"No comments yet.")),o.a.createElement(d.o,null,a.commentStatus?o.a.createElement("p",null,a.commentDetails):null))),o.a.createElement(d.o,null,o.a.createElement(d.a,{variant:"info",type:"delete",size:"sm",onClick:function(){return e.deleteVideo(a._id)}},"Delete")))}))))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={modal14:!1,savedVideos:[],cmtVideoId:"",commentSummary:"",commentDetails:""},a.toggle=function(e){return function(){var t="modal"+e;a.setState(Object(S.a)({},t,!a.state[t]))}},a.openModal=function(e){a.setState({modal14:!0,cmtVideoId:e})},a.handleDetails=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(S.a)({},n,o))},a.handleSummary=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(S.a)({},n,o))},a.loadVideos=function(){C.a.get("/api/comment").then(function(e){return a.setState({savedVideos:e.data})}).catch(function(e){return console.log(e)})},a.addComment=function(e,t){e.preventDefault(),C.a.put("/api/comment/"+t,{commentSummary:a.state.commentSummary,commentDetails:a.state.commentDetails}).then(function(e){a.setState({modal14:!1}),a.loadVideos()}).catch(function(e){console.log(e)})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.loadVideos()},1e3)}},{key:"_onReady",value:function(e){e.target.pauseVideo()}},{key:"render",value:function(){var e=this,t={height:"340",width:"560",playerVars:{autoplay:0}};return o.a.createElement("div",this.props,o.a.createElement(d.f,null,0!==this.state.savedVideos.length&&o.a.createElement(d.j,null,this.state.savedVideos.map(function(a){return o.a.createElement(d.k,{key:a._id},o.a.createElement(d.o,null,o.a.createElement(d.e,null,o.a.createElement(k.a,{videoId:a.videoId,opts:t,onReady:e._onReady})),o.a.createElement(d.e,null,o.a.createElement(d.a,{variant:"info",type:"open",size:"sm",onClick:function(){return e.openModal(a._id)}},"Add Comment"))))})),o.a.createElement(d.l,{isOpen:this.state.modal14,toggle:this.toggle(14),centered:!0},o.a.createElement(d.n,{toggle:this.toggle(14)},"Add Your Comments"),o.a.createElement(d.m,null,o.a.createElement(d.o,null,o.a.createElement(d.i,{label:"Comment Summary",background:!0,name:"commentSummary",onChange:this.handleSummary})),o.a.createElement(d.o,null,o.a.createElement(d.i,{type:"textarea",label:"Comment Details",background:!0,name:"commentDetails",onChange:this.handleDetails})),o.a.createElement(d.o,null,o.a.createElement(d.a,{variant:"info",type:"submit",size:"sm",onClick:function(t){return e.addComment(t,e.state.cmtVideoId)}},"Submit Comment"))))))}}]),t}(n.Component),j=(a(172),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={signIn:!1,role:"Normal User",modalShow:!1,signInShow:!0,radio:1,googleId:""},a.radioOnClick=function(e){var t=1===e?"Normal User":"Instructor";a.setState({radio:e,role:t})},a.signInClick=function(){a.state.modalShow?a.setState({modalShow:!1}):a.setState({modalShow:!0})},a.signOutClick=function(){a.setState({signIn:!1,role:"Normal User",modalShow:!1,signInShow:!0,radio:1,googleId:""})},a.responseGoogle=function(e){var t=e.accessToken,n=e.tokenId;console.log(e.accessToken),C.a.post("/api/tokensignin",{idToken:n,role:a.state.role,accessToken:t}).then(function(e){console.log(e),e.data.result?a.setState({signIn:!0,modalShow:!1,signInShow:!1,googleId:e.data.googleId}):a.setState({signIn:!1,modalShow:!1,signInShow:!0,googleId:""})}).catch(function(e){console.log(e)})},a}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state.signInShow?{}:{display:"none"},a=this.state.signInShow?{display:"none"}:{};return o.a.createElement("div",null,o.a.createElement(y.a,null,o.a.createElement(d.a,{color:"primary",onClick:this.signInClick,style:t},"Sign In"),o.a.createElement(w.GoogleLogout,{onLogoutSuccess:this.signOutClick,buttonText:"Sign Out",render:function(e){return o.a.createElement(d.a,{color:"primary",onClick:e.onClick,disabled:e.disabled,style:a},"Sign Out")}}),o.a.createElement(v.a,{show:this.state.modalShow,onHide:this.signInClick,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(v.a.Header,{closeButton:!0},o.a.createElement(v.a.Title,{id:"contained-modal-title-vcenter"})),o.a.createElement(v.a.Body,{className:"modal-body"},o.a.createElement(b.a,null,o.a.createElement(d.f,{className:"mt-5"},o.a.createElement(d.o,null,o.a.createElement(d.e,{md:"6"},o.a.createElement(d.b,null,o.a.createElement(d.c,null,o.a.createElement(d.d,{className:"form-header deep-blue-gradient rounded"},o.a.createElement("h3",{className:"my-3"},o.a.createElement(d.h,{icon:"lock"})," Select your User type")),o.a.createElement(d.i,{onClick:function(){return e.radioOnClick(1)},checked:1===this.state.radio,label:"Normal User",type:"radio",id:"radio1"}),o.a.createElement(d.i,{onClick:function(){return e.radioOnClick(2)},checked:2===this.state.radio,label:"Instructor",type:"radio",id:"radio1"}),o.a.createElement(w.GoogleLogin,{clientId:"306631194753-3h405u0u64t43f1vd6dh5udkt0b85cb2.apps.googleusercontent.com",buttonText:"LOGIN WITH GOOGLE",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,scope:"profile email https://www.googleapis.com/auth/youtube.readonly"})))))))),o.a.createElement(v.a.Footer,{className:"modal-footer"},o.a.createElement("p",{className:"modal-footer"},"By signing in, you agree to the \xa0",o.a.createElement("a",{href:"https://www.termsfeed.com/terms-service/e3d176f3e832ea8775d01253dd290773",target:"_blank",rel:"noopener noreferrer"}," Terms of Service "),"\xa0 and \xa0",o.a.createElement("a",{href:"https://www.termsfeed.com/privacy-policy/a398f94bb6129a8c09f6eeb9623361fc",target:"_blank",rel:"noopener noreferrer"}," Privacy Policies "),".")))),this.state.signIn&&"Normal User"===this.state.role&&o.a.createElement(V,{googleid:this.state.googleId}),this.state.signIn&&"Instructor"===this.state.role&&o.a.createElement(O,{googleid:this.state.googleId}))}}]),t}(n.Component));a(191);r.a.render(o.a.createElement(function(){return o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement(m,null),o.a.createElement(i.a,{path:"/",component:j}),o.a.createElement(u,null)))},null),document.getElementById("root"))},93:function(e,t,a){e.exports=a(192)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.5c895c18.chunk.js.map